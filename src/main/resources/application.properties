spring.application.name=inventory-management
logging.level.org.springframework.jdbc.datasource.init.ScriptUtils=debug
spring.jpa.hibernate.ddl-auto=update
spring.h2.console.enabled=true
logging.level.com.zaxxer.hikari.HikariConfig=DEBUG

# Add more logging for debugging
logging.level.com.swarajtraders.inventory_management=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

spring.datasource.generate-unique-name=false

spring.datasource.url=jdbc:h2:file:./inventory_management_db;DB_CLOSE_ON_EXIT=FALSE;DB_CLOSE_DELAY=-1
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=rajiv
spring.datasource.password=rajiv
# spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.properties.hibernate.globally_quoted_identifiers=true
spring.jpa.properties.hibernate.hbm2ddl.auto=update
spring.jpa.properties.hibernate.show_sql=true
spring.jpa.properties.hibernate.format_sql=true

spring.mvc.view.prefix=/WEB-INF/jsp/
spring.mvc.view.suffix=.jsp

#logging.level.org.springframework=debug
# Configure the server context path
server.servlet.context-path=/swarajtraders

# Session timeout configuration (in minutes)
# Change this value to adjust session timeout (e.g., 10m for 10 minutes, 30m for 30 minutes)
server.servlet.session.timeout=5m
# spring.session.timeout=2m

# Session management configuration - temporarily disabled to fix redirect issue
# spring.session.jdbc.initialize-schema=always
# spring.session.jdbc.table-name=SPRING_SESSION
# spring.sql.init.mode=always
# spring.sql.init.schema-locations=classpath:schema-h2.sql

# Session configuration - temporarily disabled to fix redirect issue
# spring.session.jdbc.flush-mode=on_save
# spring.session.jdbc.cleanup-cron=0 0 * * * *

# Logging configuration
logging.file.path=.
logging.file.name=${logging.file.path}/inventory-management.log
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Application specific logging
logging.level.com.swarajtraders.inventory_management=INFO
logging.level.org.springframework.security=INFO
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# Multipart file upload configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
